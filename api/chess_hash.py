# https://github.com/baroxyton/chess-library/blob/noassert_128bhash/src/zobrist.hpp
import chess
RANDOM_ARRAY = [
    ((0x3797A0ABC005E436) << 64) | 0x4F8DF6EEA13920BD,
    ((0x2796FB714CE2D11F) << 64) | 0xC1852BFA866FFFF3,
    ((0x324B8FC0AE2786A1) << 64) | 0xBF1AB77D421965EB,
    ((0x650C52CF897937D3) << 64) | 0x2CBB0475DDFB08EF,
    ((0xEE11B4CAEA6C1736) << 64) | 0x3DAABE1A8B9631EF,
    ((0x9A2745274A04B7E3) << 64) | 0x7E02B0033B37D4CE,
    ((0xC0FAED14BA013D1F) << 64) | 0xE648906FEB4ACE3B,
    ((0x358DD83AEA505C34) << 64) | 0x63601E81C3E16391,
    ((0x45AFD5838AFD45D4) << 64) | 0xFA238E0C29936B17,
    ((0x6C3080312EC802E1) << 64) | 0x5FB35A37080B76E8,
    ((0xEA13514509BF8B95) << 64) | 0x1D83092C523A7042,
    ((0x1177212FDE58D502) << 64) | 0x2FE1F27073491E35,
    ((0x3FDD782C52B6C077) << 64) | 0xB6138808C1AD13BD,
    ((0x451DAEF8F631E217) << 64) | 0x20079111D2B70885,
    ((0xC7856E0A9FEF42CF) << 64) | 0x3C96F11139C93238,
    ((0x435ACD3DD63475B3) << 64) | 0xAA6C019EE9DFED4E,
    ((0x7EF3C9BCD340CCBB) << 64) | 0x661E1A406B35B30A,
    ((0x9236325DF5475F6A) << 64) | 0xC594639273AD614B,
    ((0x8FC384A3D71EFEA3) << 64) | 0x030A9E344B529DB5,
    ((0xC4A96E1C39C9C7E2) << 64) | 0xD2803749E84B850F,
    ((0xB3E76C0B33CAEF77) << 64) | 0x54F62F996A548D2B,
    ((0x5B5152544BE6B132) << 64) | 0xF3B19206D4A8A635,
    ((0x83D0FBB3CC7273FD) << 64) | 0x392DC1EFE0F23FDC,
    ((0x332BDA5373900CB5) << 64) | 0x0CAC8F8138CB9B25,
    ((0x1B5D79C3A01339C1) << 64) | 0x7466FAB980D0A81D,
    ((0x7EECB6D9630E2043) << 64) | 0x8D79F74A3CAF05C2,
    ((0x43874BF83FB4A694) << 64) | 0xE1198563DD9B8D5F,
    ((0x94291F3590A740D8) << 64) | 0x6846A149520888CB,
    ((0x4BB3442F16FCBFFE) << 64) | 0x698B3C1067AC546D,
    ((0x0A5031C22DB7C010) << 64) | 0xFE8AF91EE34B419C,
    ((0x5FEE5169209C4B80) << 64) | 0x32E9F5F173039F89,
    ((0xA118656645CA4130) << 64) | 0x88DC91D116B650A8,
    ((0xB56D6B63940DCE1E) << 64) | 0xDC501D4D0A864EB9,
    ((0x0B88C8B844ABEB4F) << 64) | 0xFF8A2DE599667046,
    ((0x958D9281D2D04353) << 64) | 0xE503A6D2342AEFB8,
    ((0x77198E05FA0033FF) << 64) | 0xB3586285163A348D,
    ((0x367C884D3FB76A68) << 64) | 0x19FC4626CB4950C0,
    ((0x4CDAC34EA5599194) << 64) | 0xA57975C39A935337,
    ((0x88FFB59F5067AF5C) << 64) | 0xA66A1AC172FE3040,
    ((0xB0D617D0CFDBE39F) << 64) | 0xFDEE1F06683C8326,
    ((0x9AEF93B5A080D6BD) << 64) | 0xF3C23A192181B947,
    ((0xE277DAA205A33F5F) << 64) | 0xD135335F7869020A,
    ((0xE95EF06583C4E9F7) << 64) | 0x7D92A19E2D9FCBE6,
    ((0xA85E72710F8C06A3) << 64) | 0xC3164F165BC4063D,
    ((0xAE93B2D8AD984221) << 64) | 0x625827068B6BC326,
    ((0xBE9B1A286BA5BAC8) << 64) | 0x16E2194ECE65AD44,
    ((0x380D6E5FD3BF3865) << 64) | 0x2F2EA2A9FF471F18,
    ((0xEEB7A720C2308555) << 64) | 0x38FEE3AA2AD92439,
    ((0xF85E50425CCD60C8) << 64) | 0x40B2CF730160D514,
    ((0x6DD4F37582F56B12) << 64) | 0x586FDB85F8C716C7,
    ((0xE74B9681B974C48B) << 64) | 0xA615F50705EBE2CC,
    ((0xA0E367AF1CD1A81E) << 64) | 0x65571F42C4E7F31C,
    ((0x42BDAEFDB7BD7B52) << 64) | 0x0B0BADB1C761E3A0,
    ((0x1980D5E4AF2C61FC) << 64) | 0xA46DD2E5D745D61A,
    ((0x0833866FF935CF0F) << 64) | 0x707CD455310B1B2F,
    ((0x27A9ECE088FFF537) << 64) | 0xB54C04A8E211A181,
    ((0xD27CBD603CDF0913) << 64) | 0xE8177193A257597B,
    ((0xD66DFEC76FD3E1E2) << 64) | 0xC6DB0BC5256E66D9,
    ((0xE59C49955F4610FC) << 64) | 0xA955828CB49C6B83,
    ((0x040D710441628BD7) << 64) | 0x096AB66BDB8A72B5,
    ((0x25BA594D3DA1818C) << 64) | 0x53982E78AAE4B6B5,
    ((0xE49709E32A0C5322) << 64) | 0x1A76DF15ADA4738B,
    ((0xC272E05573BE5F1F) << 64) | 0x1D5141A8C3B869A3,
    ((0xB7682C54FE0F6099) << 64) | 0xD86143218DC2DAA8,
    ((0xBB2F67CC655C79DE) << 64) | 0x3017BF268358A8A2,
    ((0x6B09AC8559185051) << 64) | 0xF931F7170D33D0A5,
    ((0xB5C78EA01A92ABDC) << 64) | 0x7C0EEF67546D5598,
    ((0x4708C14805644070) << 64) | 0x5CB5871C42D9ACD1,
    ((0x85C1D80FB8B5F6A7) << 64) | 0xB235D3DF0F900F35,
    ((0x887D9FDAADBA51B7) << 64) | 0x2C911C2AE6FC42A3,
    ((0xE7B167C464C51D9F) << 64) | 0x32DF1682ABDA17DD,
    ((0xF136721F7CA52AE4) << 64) | 0xE32CBE09FFB7EC63,
    ((0xEE47760A3EB686C5) << 64) | 0x70C2C193DE03BCF6,
    ((0x1316286BEE0FC9CC) << 64) | 0x3A91A4C41E2B2326,
    ((0x9CF5DD012ED6F05C) << 64) | 0x5123CECA39DE3D61,
    ((0x1B9D7A4AD264D5EB) << 64) | 0x000DAFC7498E9AC9,
    ((0x698A7108FC2774D6) << 64) | 0xDC2BE56039ECBC58,
    ((0x98820760BBB949E1) << 64) | 0xCEE7D0DE0A72132A,
    ((0xFC6A148967454FBD) << 64) | 0xD2A2C07491D2D6AD,
    ((0x1472231F3A3342CE) << 64) | 0xB4B3525C92C9797A,
    ((0x8D68AC94FF6D34ED) << 64) | 0x60D959B6ADCCD128,
    ((0x8F25BB43C780DA2F) << 64) | 0x019A94B0CA6F59AA,
    ((0xF218C4C058293B08) << 64) | 0x61694E9A14011E95,
    ((0x67849C32889782A9) << 64) | 0xB1BC68CFA8ABCD91,
    ((0xBC518B20E1025109) << 64) | 0x0F7B6B82552BF55E,
    ((0xDF8C82AF63C5D79C) << 64) | 0xA3C5F0AFC78A3F17,
    ((0x5AFD7210943708F6) << 64) | 0xFC9E65A506425309,
    ((0x45984483E5225085) << 64) | 0xF9A858F583CB4F34,
    ((0xEDFD7B7B4F8705D1) << 64) | 0x0C68AE5E596A1B71,
    ((0xDB9D5C9CCD0A9EF0) << 64) | 0x349B9A06BA24E436,
    ((0xBE9C73038A967893) << 64) | 0x48966058E03DEC9A,
    ((0x1FCC253581A95628) << 64) | 0x5F0A4152F93317A8,
    ((0xA264CF12CC37B512) << 64) | 0xF716473D4930FDDA,
    ((0x62867854A96DD770) << 64) | 0x5D8F7D4F7575C044,
    ((0x0CDEEB98D8144FE1) << 64) | 0xFF914D76FA1B4B87,
    ((0xFB89C628D432DFCC) << 64) | 0x6615BB55CBF8DCAD,
    ((0x90D4B954B0BF1743) << 64) | 0xD17223B065D25270,
    ((0x9A0F859ECC74878F) << 64) | 0x7D46D9101A599B08,
    ((0xFDDF5494CF5DB425) << 64) | 0x1A7505261BB57D8E,
    ((0xA2DDD2D4BF04B6E8) << 64) | 0x02BE5346A78E5D30,
    ((0x2D1A898C423030D7) << 64) | 0x7502BA0FBAC193CD,
    ((0x7FF495B2B2190B71) << 64) | 0xF79C72C5012DA88D,
    ((0x6D2DF099E28B8469) << 64) | 0x644DACE1E338A2CF,
    ((0xAC81D393A66317F4) << 64) | 0x607142904DEA5104,
    ((0x85D004A3EDBD6680) << 64) | 0x17DF8E377DF37716,
    ((0xF69B15BFBD97CB52) << 64) | 0x24CA74808F4536E6,
    ((0x35EBE9867A75A942) << 64) | 0x5BAA684E54F45BA8,
    ((0x735192B532742517) << 64) | 0xF24A50DD4127CA00,
    ((0xB7FD40A4964921AB) << 64) | 0xC26CBE9A8248A29E,
    ((0x1CFFFFF4A1706B5A) << 64) | 0x2BD29606D82F6100,
    ((0xAB5CDF5CF7D96593) << 64) | 0x3F997B0924514E16,
    ((0xE97E19EDF9529209) << 64) | 0xDE38299D8DBB85C9,
    ((0x524A83C4DCB49684) << 64) | 0x5A69FA9D1DA9D764,
    ((0x1D979521F175A35F) << 64) | 0xB28B567DB633F043,
    ((0xC1E0CD83FF5DEAB3) << 64) | 0x4AD0DA7C84934ED5,
    ((0x51A7E91A959CB519) << 64) | 0x1AE47B64831110CC,
    ((0x810A98A8F6F4DF4F) << 64) | 0x7E624942E0F31B80,
    ((0x17BA0806E285D7BA) << 64) | 0xC68DDE55194FC088,
    ((0xA2E44A31B46AFDAF) << 64) | 0x10BC3125E6250C70,
    ((0xE911843126EEBF47) << 64) | 0x79B830FE5F42910D,
    ((0x3F3A50387ABE811A) << 64) | 0x1401A599D594839B,
    ((0xDBB33BEA4553C066) << 64) | 0x8F41582C927E8C7E,
    ((0x58CB9DD6FB2CFAE7) << 64) | 0xBDDC6C3178B79365,
    ((0x25A6EE6B3E08D809) << 64) | 0x763E1E27B268B588,
    ((0x8985C68E45E8980D) << 64) | 0xF0C2385FC653B354,
    ((0x07048E600959568C) << 64) | 0x30C85929E1306BEF,
    ((0x88B18EEC35561FA3) << 64) | 0x38BCB7D61A9B67E2,
    ((0x6E5B330D28A721BA) << 64) | 0xFA179EA6C51971E7,
    ((0xF18426787F9B5377) << 64) | 0x6B7A19CE9827EB1F,
    ((0xEDCBCA74ACD20CBB) << 64) | 0x8BDF1FA4E1FEAEF2,
    ((0xACE123BC1F2C0EC5) << 64) | 0x8E6A5D4789D74268,
    ((0x4485C018BB380E7E) << 64) | 0x45D2C6A81CADCE64,
    ((0x1E5D7387B69E275B) << 64) | 0x4D4EC20FCBC57BA3,
    ((0x8BC859AF65E533E9) << 64) | 0xA9057A2F4A6D811D,
    ((0xFB3F984DC552838E) << 64) | 0xD439F02FF4521C8C,
    ((0xD338A95352976FDA) << 64) | 0x71F7BA9866ED2D4A,
    ((0xFF65E23BCBD77F5A) << 64) | 0xA9BC51F717F33622,
    ((0x8A69A4354D071168) << 64) | 0x0191D7510F811C21,
    ((0x13E5345020E7481C) << 64) | 0x7FA75A388A1622F9,
    ((0x8E1E59B193DC0627) << 64) | 0x90B33E5CE25A441C,
    ((0x8FB7347B138E0B24) << 64) | 0x377BC7069C8494E7,
    ((0x895DA826EE54222F) << 64) | 0xB26A6D8B3557B52C,
    ((0x1A5023585B7919BE) << 64) | 0x7613C3C439EE094F,
    ((0xCF7BF501BD8E553C) << 64) | 0x601675530EDB6C7F,
    ((0xD33B90F95E44D1AD) << 64) | 0x69E08B84FF72FA8F,
    ((0x8D52E3FEAE57474C) << 64) | 0xF00B6654B7FA1602,
    ((0x293DD7C1E9BCBA19) << 64) | 0x6D0D6372E8337694,
    ((0x4479234DE97AF7E8) << 64) | 0x9F24D6874AD96F43,
    ((0xA36DBAC0EB2C1FC0) << 64) | 0x4749E017C8D7CFBD,
    ((0x113C16A52C1797D2) << 64) | 0xFF11D9E3B6E50958,
    ((0x817B7103F5AA1823) << 64) | 0x90ADAFA830C777C1,
    ((0x5AF96C1AAB504300) << 64) | 0xFE6BB2D226B0D106,
    ((0x5F78A76354D44F2A) << 64) | 0xCC0B3032722293B5,
    ((0xFDAAD79C1744DF8F) << 64) | 0x981BB71DE3D2A3A0,
    ((0x76B1171E6D35227A) << 64) | 0x34E7F5FD09FA7A39,
    ((0x12EB3D9956CD242E) << 64) | 0x63C6CFC1DAAD41DE,
    ((0x764457D86262B095) << 64) | 0x76F4960661C60D17,
    ((0x29BFB4160DC308B9) << 64) | 0x66A87122DA318D87,
    ((0xE66B7813A0A2E207) << 64) | 0xF43751270648DB64,
    ((0x2EE900C1F8809134) << 64) | 0x3D89AD665AC6502E,
    ((0x328AA9098D7D9882) << 64) | 0x3E7E6E65DA0868B6,
    ((0x93EF86B19CB50FE4) << 64) | 0xEFD76C2B6F835268,
    ((0x9804B960F0143209) << 64) | 0xD1F21C4475E96976,
    ((0x5BBDD5962B9EA5BE) << 64) | 0x5175B8D2710E558B,
    ((0x7B3ACB7EA391A9B8) << 64) | 0x574AF72DAF5D6B93,
    ((0x0C0C822727D24471) << 64) | 0x82E481A0FDDC9612,
    ((0xAF032138F2D3F496) << 64) | 0x1A79FDE5170FDA5E,
    ((0xE287AF2468BCF4D4) << 64) | 0xC4F03D132CF4365F,
    ((0x47EF82A83A7B1748) << 64) | 0xA2520F6D06377911,
    ((0x7A9D4DCDB714FDC5) << 64) | 0x7D65C0B41053B5D2,
    ((0xD0D0DC19E9B88A56) << 64) | 0x2F88BE33C8E0EFB4,
    ((0x3C5F6F755E9FDC69) << 64) | 0x841AD9FDDB6A5F99,
    ((0xF307C9AD56F1D686) << 64) | 0x82C92170D20A197C,
    ((0x3DC32312AF327907) << 64) | 0x04937E0BD3DD5696,
    ((0x96287FF4A2A78228) << 64) | 0x8F2625299ED7BAB8,
    ((0xCC3D938D0B705706) << 64) | 0x271F8CF3C2D45C0B,
    ((0xA62A6672AD0609CD) << 64) | 0x3F0D5CF4A5E7E6F2,
    ((0x88BFF13E06BADC18) << 64) | 0x851A6A9F3F8B408E,
    ((0x922F06880FAFC7C7) << 64) | 0x034D3C98B3DCD9D9,
    ((0x5EAD37A4C6C25558) << 64) | 0xB06F01166AD03727,
    ((0xFF39F573C2172D0D) << 64) | 0x54A01B01378D159B,
    ((0x074BA32D0299E878) << 64) | 0x6CD5AE020ED43D99,
    ((0x3BAD11CB134942BF) << 64) | 0xB7B551CB2B77E814,
    ((0x54AC12C90AF21EA3) << 64) | 0x7CB1A3E2BD319F19,
    ((0x4D513365C57AA264) << 64) | 0x497C81E5881E0D9D,
    ((0x4F58E1F67E7E9CE4) << 64) | 0x10EFD054E925A24E,
    ((0x0B92FC7257D0E33B) << 64) | 0x5DE558E5885E4668,
    ((0x70E72233F7E88EA7) << 64) | 0x0F86E707295554FB,
    ((0x43BB577366B0B2C0) << 64) | 0x4811A27AC37B1327,
    ((0x2023131E7D78CFAA) << 64) | 0x8768EF544CCD3FE5,
    ((0x2D0887D2CCC93E57) << 64) | 0x46638C72EE5AC0B1,
    ((0x318A58533CFB309D) << 64) | 0x100DCDA67A441D10,
    ((0xF64EF044E15293A0) << 64) | 0x60FD90C27105AEC8,
    ((0x75190938EA2B461D) << 64) | 0x62BE6CA8AD3FFBD9,
    ((0x993A02E6E9861F1E) << 64) | 0xAD1050C62570B304,
    ((0xE47C218F2F257FD2) << 64) | 0x48AA827B57CD7D5C,
    ((0x77BE2421411F243F) << 64) | 0x711C91D09C6DF316,
    ((0xA008707B3261C7D1) << 64) | 0xDA888BBEB8AD23FA,
    ((0x1E3D39DD7F0CFC2B) << 64) | 0x8FC51F48DA7D1473,
    ((0xBCE3CD0F40AC0054) << 64) | 0x73B7412D09F1625C,
    ((0x11471B2C8C0AA12A) << 64) | 0x5809293EC493F2F3,
    ((0x366663084B1898FF) << 64) | 0x5A39FDAB93F153B2,
    ((0x333CD6D0414975D6) << 64) | 0x547ADF023DE18C56,
    ((0x9FCFB4E9F77AFA1F) << 64) | 0xFDA0B1B28DE568C2,
    ((0x4EDC928D064EE4E3) << 64) | 0x89FFDDBD0392EBC5,
    ((0x8ADD9A0D99B5C076) << 64) | 0xD92DFF576026BFCA,
    ((0x1515B6E729F86EB4) << 64) | 0x5C751E68EA511272,
    ((0x70ABE4F566F5AAEB) << 64) | 0x41A0AA3431D3213C,
    ((0x574FEE8283564491) << 64) | 0x70B3D3E61C102135,
    ((0xAA51967F0B266FFF) << 64) | 0x55054785D5E5637F,
    ((0x5FC9C2770DDCC439) << 64) | 0x5CAE6554EF5FDE69,
    ((0x3F6FB9D91E1DBF30) << 64) | 0xF76D7A214D27A3B0,
    ((0xB304BBAF14922538) << 64) | 0x27BC672931221B33,
    ((0x3FC16BE0704DE6F4) << 64) | 0x987C7699BAD8D1BD,
    ((0xCDDF2B23E08A57EB) << 64) | 0x50F97521710CB4E7,
    ((0xDC973EBCC3B33DEF) << 64) | 0xA2D0EE9CEC3E217D,
    ((0xC0B87AEB5463CBFB) << 64) | 0xFD4B6E340A329847,
    ((0x725408FBADAFF26A) << 64) | 0x84D62B31FA5886E1,
    ((0x3919A7EF13D90BD1) << 64) | 0x7051BC6CF852F7B4,
    ((0x2F851B13A4C9D714) << 64) | 0xC25200DC56C6EB55,
    ((0x005CF1E7F4E93B00) << 64) | 0xBD9F65731A11CE13,
    ((0x7E05C32C3458E70C) << 64) | 0x21CF5AAD15BC77FD,
    ((0x5B87FBC64BF4C338) << 64) | 0x74AA8F5AEF52FBFF,
    ((0x8E8DD9A0B350BBA0) << 64) | 0x9661A56E8988E808,
    ((0x1A5E0685F89FFD94) << 64) | 0x73AC3ED51303768F,
    ((0x05F313A627D21505) << 64) | 0x1487E092975BC828,
    ((0xEB6DBA59E3C019C7) << 64) | 0xC3074B160A02A87E,
    ((0xE3131CF50C0A0DCF) << 64) | 0xE1CB43ECFFD12C8D,
    ((0x3E314C6DB88AAC4D) << 64) | 0xD0F1360FC9A9EC80,
    ((0x4E60F8BBA577E3E6) << 64) | 0x4B80CC74E2342136,
    ((0x2FC2FA28FC86E35D) << 64) | 0x8DC3540FEFC0891E,
    ((0x85523C3BEA4A02B3) << 64) | 0x907E77EEF9339E4E,
    ((0x4223BA58F2B52453) << 64) | 0xA40B59BED6FA413F,
    ((0x5869E1134EEB1CE2) << 64) | 0xF50418C3FB9FE5A3,
    ((0x7805E0821B6C84C3) << 64) | 0x4396AA2C5759C428,
    ((0x85C7904680CE31F1) << 64) | 0x35F3AAB8901D2EBD,
    ((0x82A33441C8D5F114) << 64) | 0xCF339F3FB223C145,
    ((0x4B6431362FF12D84) << 64) | 0x7B13F2223427A982,
    ((0x50FE49EB95A33F7D) << 64) | 0x7B50F542C4411F47,
    ((0x8B11679B372304C1) << 64) | 0xB10C4E21D4DC9608,
    ((0x0AEBE253A83E27BE) << 64) | 0x8EF17B47BB933304,
    ((0x412F7009C6B61A3A) << 64) | 0xE52CE1CE55E17F6D,
    ((0x04C7766404C09DCE) << 64) | 0xBF1CB3C8AA4AF33C,
    ((0xCFA5D65B076F8CFF) << 64) | 0xBB6D68FB684C6300,
    ((0x21A196477B9F54A6) << 64) | 0x53A720AC3E91ECE0,
    ((0x3BCECD2FFD33F12C) << 64) | 0x3FEB9ECF74FC2ED1,
    ((0xA1703E89B94E3217) << 64) | 0x547B30380B391D77,
    ((0x35931CAE259FA514) << 64) | 0x584DB0D755D5529E,
    ((0x540EF80FA27F9AE2) << 64) | 0x228A04876820D2D1,
    ((0x9225FB9606B8E143) << 64) | 0xA419C1EEE93EDBED,
    ((0xFB7D12276EAD7242) << 64) | 0x620A21E72F853766,
    ((0x00BF0C0224B4E160) << 64) | 0x461D7198F7997645,
    ((0xC9899869EEB3C085) << 64) | 0xEE665E7DC9AAD0CD,
    ((0x013DC8EF2C93536D) << 64) | 0xAE79612F4217CE72,
    ((0x0A460ED46E15AECD) << 64) | 0x7A9B6A968949871A,
    ((0x5C39019933A62203) << 64) | 0xC5BCF653E4227405,
    ((0x565E33A3CB217453) << 64) | 0x1C7FE6C45250BE7A,
    ((0x635F02D9CD518D87) << 64) | 0x276345CBE902BF24,
    ((0xAE5E414F20BEE7D7) << 64) | 0x140094D5CD437E0C,
    ((0x71CEFB7DD0BDCBE0) << 64) | 0x46F3F20E4CFE802C,
    ((0xB76D21A145D5100D) << 64) | 0x5040F1AF2642E7E3,
    ((0x1C6382D17D0F2E35) << 64) | 0x7BFFF11D5CEB6FE8,
    ((0x1160F1DA03AD772F) << 64) | 0xBE5D92EAFB53E19A,
    ((0x9D419F578910BBDF) << 64) | 0x2327CD0F9D04FC9A,
    ((0xFA5806ABF084D3DA) << 64) | 0x3AC513BBC83B3A5B,
    ((0xD90A560C88EA35CE) << 64) | 0xCD28E244141B6D7C,
    ((0x354B327F79304DEB) << 64) | 0xC5561C5889B8D31D,
    ((0x968A7CDCC48A99FE) << 64) | 0x5D5D663E70E4458F,
    ((0xFA774388923859EE) << 64) | 0x0A47A2B2ABAD6F9B,
    ((0x67B0D816F26673D5) << 64) | 0x9A42898D06991286,
    ((0xBF841F41A96F6C76) << 64) | 0x5E458B8DDB81E74B,
    ((0xF1FADAD2D3E2AED5) << 64) | 0x262133FEACB4219C,
    ((0xE4DE81184EC07EDC) << 64) | 0x6D855B9B400DC9C6,
    ((0xBF66511233DF38C6) << 64) | 0x1A474B3F3842D50D,
    ((0x22E1427FBF062AEB) << 64) | 0x59907F3624C05931,
    ((0xD0CE79610AAE4978) << 64) | 0x003B6957D5B3A65C,
    ((0x17A4814E59F754F4) << 64) | 0x13862D149756C191,
    ((0xFADA0FC9F2D1DF0E) << 64) | 0x8E2354E2368F5200,
    ((0x4108D860856C944D) << 64) | 0x99F7A7716AE7ED0D,
    ((0xA639128430ACD20D) << 64) | 0x71A8E6AAC19A1E8B,
    ((0x03E313A6CC1622B1) << 64) | 0x944C5E5535D9B677,
    ((0x6C87177DD149EE99) << 64) | 0x2757548B8C844F52,
    ((0x68B618C3D0B1C096) << 64) | 0x328C24A987481194,
    ((0xFFA25AD3D0A62426) << 64) | 0xB3EA098D0F635597,
    ((0xC74070759AC72BCC) << 64) | 0x4CE66AB51E6DECC4,
    ((0xEC52B7E19AB20907) << 64) | 0xF99D3B469D5F1A44,
    ((0x5EFD303663BC83C7) << 64) | 0x773547381A02F23A,
    ((0x76874D8A813B8003) << 64) | 0x81B1150116AF6C3A,
    ((0xD29DE8653BFF78D1) << 64) | 0x2ABA0AF122FBB3A8,
    ((0x6A0AB50ADF5700A2) << 64) | 0x70E660C628D0CB3F,
    ((0x9F94A56A44B1C0AD) << 64) | 0xED9E59D2D5AF4F70,
    ((0x3A19E85319012604) << 64) | 0x81E0621F0273A52E,
    ((0x7056FB3178A0EC27) << 64) | 0x92D6DA604A03EC88,
    ((0xB9A197DDBC412427) << 64) | 0xD6518AA80341FFB0,
    ((0x9311C11F34216BBA) << 64) | 0x3803A12AEF742193,
    ((0x93587AC371B1A46A) << 64) | 0x197939234218BF61,
    ((0x8C190BD303A87EB7) << 64) | 0xFA90B4C748A8746D,
    ((0x0004F1C7EAECF663) << 64) | 0xC2FD881AF34820E1,
    ((0x1F9D39EDAD3E28EB) << 64) | 0xD608C1A5FF08CD2E,
    ((0xF919513CC03064BF) << 64) | 0x0DC0976187570BB8,
    ((0x3F445922525ADBB6) << 64) | 0x52EF22C864806AFE,
    ((0x4243A132F0C8EAC8) << 64) | 0xFF0AD7AF8EE27A1F,
    ((0x9F62DBDB0E134F1F) << 64) | 0x4280837B116B0537,
    ((0xF0AB304CD1108F78) << 64) | 0x80ABE27C6D981767,
    ((0xCAEDA51BF651C193) << 64) | 0x80CE2B4CB567F776,
    ((0xFD6CCA48F87F37AF) << 64) | 0xD224881639F40DC2,
    ((0xFC974777B91D2CB6) << 64) | 0xA1627F18609AA086,
    ((0xAA3F4BF237BD600C) << 64) | 0xF6BDC0E5A3958724,
    ((0x45ECEB76DC99BB5C) << 64) | 0x710E2988C2949D22,
    ((0xBDBE2932B49BCED6) << 64) | 0xAC66A89FBF083322,
    ((0xAF859D1AAB1B4BBF) << 64) | 0xB45684075816449F,
    ((0x939FEF90827E0DC2) << 64) | 0x95C198FF16538375,
    ((0xD53222E71486D39B) << 64) | 0x20B386C91B80C8C1,
    ((0x09F602AB073FC487) << 64) | 0x25629A67E109CDDD,
    ((0x4C42AD8AD9451992) << 64) | 0x8FEBD1FEB83D09C0,
    ((0x0E7267DCFDE37994) << 64) | 0xCD4E1B6884E560EE,
    ((0x312126FF9543D84B) << 64) | 0x750C6A222F20A407,
    ((0x919132F916ED1D2D) << 64) | 0xE43269195B462D01,
    ((0x687691B7F85B8C2F) << 64) | 0xFA91DC9D8F88D41C,
    ((0x7B24A1797C0DA234) << 64) | 0xF7DC69DFDBA45C13,
    ((0xB871DEF2FACF5525) << 64) | 0xF3FD30CA61C86442,
    ((0xC29C271A197F37F0) << 64) | 0x92DEACCEC18B19A4,
    ((0x6F80ACA2D23DEDBD) << 64) | 0xF279C7FB9EE5A283,
    ((0xFA50FE6C3789B84D) << 64) | 0x30AFE1780FEAD469,
    ((0xC555DD468A81C6B7) << 64) | 0x8CD7A7CB574FFE4F,
    ((0xEE7DF2303969827A) << 64) | 0x1A8213C00DEE15EE,
    ((0x2F614B5B3F64463C) << 64) | 0x8F9E38B7BB828F55,
    ((0xB7464C1F9AE46BE1) << 64) | 0x6DE3C9326209316A,
    ((0xE8E36A8DB8C86B28) << 64) | 0xE379DAA7893DE858,
    ((0xFE059E13A9FD1CE1) << 64) | 0x52A940639307B26C,
    ((0x225A960152BA8F93) << 64) | 0x8491155C7CF3BCAB,
    ((0xB29A1893E5385601) << 64) | 0x87D27AB32DBAEDA6,
    ((0x4A97DD1E2D7D1DF1) << 64) | 0xFE0B915ED0674C52,
    ((0x7B87A71C1EC8DB94) << 64) | 0x7F6D5E0903228DD8,
    ((0x74E1B88546824457) << 64) | 0xA1B720C1644015D6,
    ((0xE9CD51EBDA909A08) << 64) | 0x31A5B30B84CC82B0,
    ((0xEBB097FB61251E14) << 64) | 0xA2151867D9E2E3EC,
    ((0x733844D03D1405ED) << 64) | 0x8D15F31EDD5BFB4B,
    ((0xE37230B9EDCC25F6) << 64) | 0x15EC45C61E413814,
    ((0x729239A6050FAD95) << 64) | 0x3B8804DE5E8FD04E,
    ((0xE88C3CBF8516F826) << 64) | 0xB968EE01F7083DE8,
    ((0x1BB534019043C1EC) << 64) | 0xDF0407C18E7889E5,
    ((0xA55C8E73A45CFF29) << 64) | 0xD89CA6621ED71513,
    ((0xEE294AEE394CB65F) << 64) | 0x2F7DBC198DA0E727,
    ((0xFE7DF22B32E7BA1C) << 64) | 0x6ADF630526DCF965,
    ((0x4E8113B15DDCD6F7) << 64) | 0x9946050545DA82A7,
    ((0xF73AD31CAD98E6A6) << 64) | 0x7EBF026341920FA7,
    ((0x64F1658A294A5BCC) << 64) | 0x312E0ADBBB1434AB,
    ((0xA1CECEF979E9CB84) << 64) | 0xF6A8E05D3A9195FD,
    ((0x45DFA73B0397707E) << 64) | 0xF8DDA2FA00DF3068,
    ((0xD9E991A3521B422E) << 64) | 0x96C094B1EFBBD993,
    ((0x4C0F77A259860EBB) << 64) | 0xC1601D6E28750C16,
    ((0x16476437597C252D) << 64) | 0x11BA3A54AB2FC3F4,
    ((0xDE4783D4841319AD) << 64) | 0x0C2D3DFB836C647F,
    ((0x4B7F8D6AB3C383D6) << 64) | 0xCBFD229A8E390937,
    ((0x8FCBBDB40D01E191) << 64) | 0xBFAACCF801792A99,
    ((0x30B6409DB0BA64E3) << 64) | 0x03951D42F35CAF11,
    ((0x99E42280BEC94A49) << 64) | 0xB5E88B0642D8BA17,
    ((0x26E7E1C908BAFB43) << 64) | 0xEA453FA9D188BC01,
    ((0x13FB152F18FEA278) << 64) | 0x35A1A71AE20ED8B5,
    ((0xB4BCF421DB3EE3FD) << 64) | 0xCB1C720A4A098AFC,
    ((0xB138574BFC4A8D26) << 64) | 0xDE70C91FA3F85746,
    ((0x48F96C3A34299C01) << 64) | 0x7BE315ADBA96BE89,
    ((0x9F166215388A4A96) << 64) | 0x459D4AF4BF0AE5E5,
    ((0x51A8C6271DA13AB4) << 64) | 0x8D10B8CCE62653A6,
    ((0xF262BF2750862899) << 64) | 0x1F4A25FA2A32726C,
    ((0xE809ACA4DCDC4FA1) << 64) | 0x26930D3A286B582A,
    ((0xDB891237974D9DE0) << 64) | 0x06CD6418B58C5B0C,
    ((0xD0113029267CD0DF) << 64) | 0xC7B209BF4474AA71,
    ((0x459499A83A517A7E) << 64) | 0xFEF30DB5BDECA85D,
    ((0xBC73CC23359E949B) << 64) | 0xEF5F4C72E4537F64,
    ((0x21A1C1536B30B193) << 64) | 0x194ECFD1232C4492,
    ((0xBDEC34061B8A83C9) << 64) | 0xCA0083DD67A515A8,
    ((0x6A72F8D56ED5F7FC) << 64) | 0x73366D1667E46A9A,
    ((0x4AFF767A0F805CA0) << 64) | 0x50CD37BF73A9558A,
    ((0x6B6C44E35E57FD8F) << 64) | 0xA5446DFB72AF23FF,
    ((0x9EED930B0A0EB9CB) << 64) | 0x6BA2FD0B471330AF,
    ((0xF5CA5C61F8FFFC8E) << 64) | 0xA89D303CBDF7BFA7,
    ((0x7CCC32F591B4AC83) << 64) | 0xF903E3046027C548,
    ((0x6B3590F0B4A447AA) << 64) | 0xCF2F290AF51C3BD9,
    ((0x94BA90841C241631) << 64) | 0xA81A32B04734E001,
    ((0x983858640E585268) << 64) | 0x16CEF39CAF401137,
    ((0x3F765B94589B3F48) << 64) | 0x30DCFD4C6161305A,
    ((0x889FDC3A68EB31A8) << 64) | 0x595D9CDD3B031896,
    ((0xF5DE6234466E89E5) << 64) | 0x31CFEC9515C77AE2,
    ((0xE5B6CF37DE2EAF26) << 64) | 0x3FA5A36E07BEA9DC,
    ((0x888251369C608A66) << 64) | 0xF296AC4CB385BE57,
    ((0x60E811BB62B72404) << 64) | 0xC29A4A82CB85A668,
    ((0xAF843A418015F558) << 64) | 0x871DFF7726ED12EB,
    ((0x51C30C1FCB83669F) << 64) | 0xF686F8A38366290D,
    ((0x3F30AAD773488FE7) << 64) | 0x39C54212F3BBE551,
    ((0x47D9C09A0DF7139B) << 64) | 0xAB1D07511BD7ACBB,
    ((0xDF3130DD753CE4E3) << 64) | 0x9DD202083D65AFCB,
    ((0x16BBBE1156FC25D6) << 64) | 0xD94E6A7BD857C904,
    ((0x8E5A204D1F77D160) << 64) | 0x325AAE74716D0902,
    ((0xBEF41EA0A720238B) << 64) | 0xD6CFCFF258327F00,
    ((0xE8607F31DCE82F45) << 64) | 0xD921054FE2868220,
    ((0x93095EA71FCBA1CF) << 64) | 0xA63D75AEF172444C,
    ((0xFE28A02CBC53D312) << 64) | 0x22E34BF201F95FB9,
    ((0xA2D14C59155DE963) << 64) | 0xD3486D7E7EADF1B7,
    ((0xBADBBE13BA8AB911) << 64) | 0x5E013AECFFA8F607,
    ((0xCEFFB6BB1F17DE9F) << 64) | 0xA953B688819FFC0F,
    ((0x6F972A5AA88BE150) << 64) | 0x9DF0F9DEF1251147,
    ((0x3F8DB0E8A894E9DB) << 64) | 0xB9A909535180EBCE,
    ((0x595940174FD28D8D) << 64) | 0xE8C08FD025F820BC,
    ((0x37E9776F1DB36BA9) << 64) | 0x7BA4A221E4A628AA,
    ((0x8B9AF8C381C8E90B) << 64) | 0x2B6443BF2A4BF3AD,
    ((0x40796E865C251F86) << 64) | 0xD56226961314F542,
    ((0x3A64C05422B199C8) << 64) | 0x567D989181FA46BA,
    ((0x8E7F30D652DBB940) << 64) | 0xD1BF9B79D5B8A24C,
    ((0x08A36F5779684834) << 64) | 0xD5398743A9F4A295,
    ((0x9495B65C77060CFF) << 64) | 0x39E28EAB9B1E183C,
    ((0x2D74832941F64568) << 64) | 0x6BE55FA5BFDEBD81,
    ((0xCEEE6AB4D4D2F503) << 64) | 0x135487B1297D4078,
    ((0x000BA52865FAC9A2) << 64) | 0xCD105D4347EDAA2D,
    ((0x8A565C134A6E1DA5) << 64) | 0xFB20BCCBB1F8B41F,
    ((0x0D0DC69D53039FAC) << 64) | 0xFC8F9291DA4376B4,
    ((0xF4A2FCB72D9A9585) << 64) | 0x80743014FCBE25DA,
    ((0x23D574BD07C860B6) << 64) | 0xA62A8415CEFEBB8B,
    ((0xD2804FED63B54E63) << 64) | 0xFE7073D3B92E6334,
    ((0xC46226C340B2B1EB) << 64) | 0x1F09BD022FB59E7B,
    ((0xE41590D56EF4E857) << 64) | 0xF169777C1EFDB530,
    ((0x18E9C018A8CB8A12) << 64) | 0xCC676FB27AED9E1C,
    ((0x9F4EAF04E10C0A93) << 64) | 0xEA0E237B2A3DCEE5,
    ((0xA13852B234A2277E) << 64) | 0x53D41F3F181E9B7D,
    ((0x357C2A6CB412E01D) << 64) | 0x36DCA2510EBBDC7A,
    ((0x18B89C0F39F963AA) << 64) | 0xEA67C42544FEE838,
    ((0x51A630DB5907AF28) << 64) | 0x364B2571419F3230,
    ((0xE5B4E8ABB2A2450D) << 64) | 0xEE43FF799D7FA769,
    ((0x778466C275AD29B3) << 64) | 0x9FF9148D0E57A8D6,
    ((0xFFD4F30D62714E76) << 64) | 0x979683B9963FE134,
    ((0x862AA8B54A4E047F) << 64) | 0xDCB6CC0DE456DA75,
    ((0x4039033DF7FF2854) << 64) | 0x18839877E2B7E0F4,
    ((0xB3012AC0565DC458) << 64) | 0xCA22149DDD63338E,
    ((0x6AD61C8B7EABC761) << 64) | 0x7FB3171F2E584542,
    ((0x285D64007D053ACB) << 64) | 0x6106237584D5B111,
    ((0x9538DE7B2D96883E) << 64) | 0x1B8DDCF325527FB6,
    ((0x023AE68393E1D735) << 64) | 0x6CD2F7A9966EC602,
    ((0x6D11A9A1480D81D7) << 64) | 0x17DB579C3E5D3874,
    ((0xEBCD798303FCDFA2) << 64) | 0x8886F7C15BFC88FF,
    ((0xDB29665967915B22) << 64) | 0xE6883C87FE1A3D83,
    ((0x3BE4255E0E7007E5) << 64) | 0x4B4A00F0128EDBDC,
    ((0x2EFBBCC95E77E70A) << 64) | 0xB64565E1F097F5D1,
    ((0x211704C75D9E31ED) << 64) | 0x25DB902769C0BC26,
    ((0x13E51FEC45ECC61B) << 64) | 0xCB0E69B4A085B2A3,
    ((0x76778D84201B2E62) << 64) | 0xD863053E2891F72B,
    ((0x1E5E60710A405A78) << 64) | 0xCBCBCE0D8FF4DAE5,
    ((0x5AFB96BDA2216BB9) << 64) | 0xBBC93CE5B774794D,
    ((0x19FF015D2AD43402) << 64) | 0x5459887EF6E17A04,
    ((0xF4AEDE9DC279735C) << 64) | 0x60DCDC890CDDB4D5,
    ((0x5FB5D9CE7867038B) << 64) | 0x3A1F747E513A023A,
    ((0x90B89A88BE6EF343) << 64) | 0x165BDBE1B46EB84E,
    ((0x74EB502BD74050AE) << 64) | 0x30F30C1164F59E8D,
    ((0x7360F1F7F5BCA46C) << 64) | 0x4E0F8CD9B25CCA82,
    ((0x6F563D2D6B1A2A6F) << 64) | 0xC67A2A38EDC7E1CA,
    ((0x131773FF8E65824B) << 64) | 0x5A3FCC10B03F010D,
    ((0x4922BEB65C909139) << 64) | 0xDDCAF4D62BEBF4AF,
    ((0xF4BB18B0F7221D3C) << 64) | 0x1FAAC7A4B1274C53,
    ((0x04FB0A70B03B2282) << 64) | 0x6077B683355F8CA6,
    ((0xF047D22164966260) << 64) | 0x94B32B8985500B5D,
    ((0x23F0B8683DEB13A1) << 64) | 0xA248E1E6788E942C,
    ((0x4F79760D888B6A2A) << 64) | 0x6FC4B819E20203A6,
    ((0xF114979323E30F8D) << 64) | 0x5E19E67BFB1A2CE7,
    ((0x74822EED969FE735) << 64) | 0x00FBF23F9FD715FF,
    ((0xC54461E5113BF3D9) << 64) | 0x429817DDDD0D6EA8,
    ((0xC3C87F5456B13846) << 64) | 0x20E7C1EC619FB52A,
    ((0x96C2A321CFF1E708) << 64) | 0xCE4D87D0717AA341,
    ((0x81FC51D4BB83DBE4) << 64) | 0xB357CC1CF19A116C,
    ((0xE40714788BECF297) << 64) | 0x8516A2EF08AF8983,
    ((0x030288C0627AA501) << 64) | 0xBCD1C8854EA172AB,
    ((0x44758AA91E86F02A) << 64) | 0x181A0110228FA68C,
    ((0xA8B461227D354D0E) << 64) | 0xC0A27A82CAFEB12C,
    ((0x2DC1F7F5B13E1F1B) << 64) | 0xD6B67597CC3127B6,
    ((0xE4A8F0E950E85FEA) << 64) | 0xA09DDFC960846D90,
    ((0x624A995B99DC1FF4) << 64) | 0x880349BF9A8F3EBF,
    ((0x00DC7F5020594786) << 64) | 0x55B1C773214B5290,
    ((0x3C8B7FD75BF1AC46) << 64) | 0x5CA244A4AB06189D,
    ((0xDF74DE0655014405) << 64) | 0xDC739285B34F3B26,
    ((0x355377B3F1BD9E9E) << 64) | 0x4D0B95F851E90EE7,
    ((0x4682904DF8C5A46F) << 64) | 0x484E2124E0D6E6F7,
    ((0x27D34FCDC91DBD10) << 64) | 0xC4BE017D64B8FF29,
    ((0xEBFFF8B1E75DEE3C) << 64) | 0xB93CCA09F61D64FD,
    ((0x85C834810C2B51F1) << 64) | 0x959395CFE5021A47,
    ((0x916EC6C7F7FAE6B8) << 64) | 0x1B95199DADF9F92E,
    ((0xC07D723F89FD769E) << 64) | 0x1EA80D8784D3C4AB,
    ((0xA474C31C9B75961B) << 64) | 0xAC21FC628A2F5C46,
    ((0x3DFD5DE9256E38F3) << 64) | 0xFC4F2B155ABDA3E0,
    ((0xB1389682109B2ACD) << 64) | 0x26AE1926812B0F3C,
    ((0xFA1F311FBC28D861) << 64) | 0x5E89A399F32C2585,
    ((0x1CAFE15730EA4BFE) << 64) | 0x7BE06CC0DE517DAA,
    ((0xF9E1B4E41AEB4A6D) << 64) | 0x1FE1A10CCD4AB811,
    ((0x18A199C6D98934D9) << 64) | 0x89F085E1799444EE,
    ((0x75CF7D96B2F271E0) << 64) | 0xF91578E85BE35874,
    ((0x88EAEA28406417EA) << 64) | 0x6026B606FBF4ED49,
    ((0x7D8B923752871A97) << 64) | 0xA524D4864A8E0669,
    ((0xA130BED9F898DEC2) << 64) | 0xDE5D47A8F687B29C,
    ((0xD5C78BC07129AC3D) << 64) | 0xB99DE54B9D56A658,
    ((0xD81449A97C5D3ABB) << 64) | 0x9A3DEBB742020DA5,
    ((0x15B94A34AEFCCFC3) << 64) | 0xE2B48F0210A2BA21,
    ((0xADEAC1C56BFE4C3A) << 64) | 0xDBFA9B6F04AAE339,
    ((0x967B77FD12B156BD) << 64) | 0xF7F31C2D92CDB8F2,
    ((0x8D2D542C4826781D) << 64) | 0x1802D1A04AB7D839,
    ((0x61AA208CCC24E0F9) << 64) | 0xD9DD06F3DE8FFB63,
    ((0x420AFDFEC9D61301) << 64) | 0x6D000EE7387700E3,
    ((0xA05BC24514DCD6F1) << 64) | 0xE798EDA8D35DC0B2,
    ((0x5632BB59552E0D06) << 64) | 0x23E38AC261345A03,
    ((0x955090E583C991A1) << 64) | 0x9243314FD58CC91D,
    ((0x5A1E1A8D340A7931) << 64) | 0x895A072923E82918,
    ((0xB062A0FA607A7FEB) << 64) | 0x1D034BE8ACDF3394,
    ((0x91F18E3C4C79B56D) << 64) | 0xF37C18FCA6D38AE1,
    ((0x6A18449E36506221) << 64) | 0x93B623FD70E83212,
    ((0xA0C03D517558E50D) << 64) | 0x2B8EDF62E15316FB,
    ((0xC78D92A64FEA6E98) << 64) | 0x221C493A5509DD87,
    ((0x949139CF37636A53) << 64) | 0xCA1F8FEE6A8C4270,
    ((0x9FADDB81A376E57B) << 64) | 0xC5D41477A01BF39D,
    ((0x56AC3B549D3D25E0) << 64) | 0x6BB57782815E9239,
    ((0xAFC3276AE1F52E03) << 64) | 0xBCFD7263BF041042,
    ((0x7FE065C88267CCCF) << 64) | 0xE1F4A5F5D222827D,
    ((0x317C52AD621EC356) << 64) | 0x4D78265A17358386,
    ((0x7707331CAFA4039E) << 64) | 0x039CDD81A036E5B0,
    ((0x8DBE7EF47BE0A01A) << 64) | 0xA87003603069D3DF,
    ((0x4BA1CFF4E32FB129) << 64) | 0x66C6DC7AEE22F0AE,
    ((0x836248795F0A6FFE) << 64) | 0x582FF763DECC8CE0,
    ((0x668B301E2F230A73) << 64) | 0xA6BED8CB4BCC89EC,
    ((0x99A7729B147A0AAA) << 64) | 0x4487D8859558ED76,
    ((0xCE8B38D0E5519442) << 64) | 0xC7A46370E1F70293,
    ((0x6A1FA6C430D6186A) << 64) | 0x412A9C2B0A50C2FE,
    ((0xB13E19BC64CB0ADB) << 64) | 0x0D69D4BE1CE0D126,
    ((0x5A8B4369F5C2D3C8) << 64) | 0x2B97A7BA3A08BC8F,
    ((0x5AD54AFD5D58AAB7) << 64) | 0x3DE12F01CFD11FE3,
    ((0x7BC8190D68F1A594) << 64) | 0xD6A5D49066CA1E9A,
    ((0x9F85401F16E2A76D) << 64) | 0xF901F64E0CC1625A,
    ((0x7D29D1FB42B69992) << 64) | 0xBE6BB8E786B8D880,
    ((0xBDF6A668AAAA0E16) << 64) | 0x0A85804A0FB2F9AD,
    ((0xC18DD9787DFE448E) << 64) | 0x82880C10E1DEF705,
    ((0x1FD2059945FE83C6) << 64) | 0x590A547BC8A1FCFB,
    ((0x7673FF288D904595) << 64) | 0x94DBFBF44DBC0183,
    ((0x9FE7EA02070AB507) << 64) | 0xB354F6FDC53853CB,
    ((0xB44E90BF3ACCD699) << 64) | 0x5544DAC4853EC174,
    ((0x9BEC0FA21A28C937) << 64) | 0x6F376D3644F89119,
    ((0x89F2BF3A7DD477C1) << 64) | 0x492A98B356BBC325,
    ((0x3E2740D6A6520419) << 64) | 0x8FFEE74123AE000C,
    ((0x2977751698E8B030) << 64) | 0xA12A93B3CDE2B426,
    ((0x685BECC82EAB1DBC) << 64) | 0x37087F37F806CB5C,
    ((0xA6BF9442A9552500) << 64) | 0x922B40C66126CB9C,
    ((0xF9C4001934B2620A) << 64) | 0x3CB3BAF1D43AA334,
    ((0x514A5BB696DC20CF) << 64) | 0x39736D4213DF3D77,
    ((0x6872B45E4FA3FD8B) << 64) | 0x51E1E95CB6187839,
    ((0xE1F13871ABBA8781) << 64) | 0x4C1C046ACC030E6A,
    ((0x3956230D7CCA3A81) << 64) | 0x4B9C6FCFD6285533,
    ((0xE4938D2118B44E5B) << 64) | 0xE3D50C517DD3D88A,
    ((0x27D10E801EE4F722) << 64) | 0xCC4D08C4307EE9F9,
    ((0x6C71A2193608D1C3) << 64) | 0xF024385BA60374B5,
    ((0x7F85FCE7CB480811) << 64) | 0x25794777B889635E,
    ((0x485C8B59545B4CE9) << 64) | 0xED87E14E1803EF54,
    ((0xA9FA20926D7F2A7A) << 64) | 0xAA6D35FD43A437D9,
    ((0x3327B3F5CC99CDC2) << 64) | 0xC6776041A86E9D75,
    ((0xE5F9F1A4783A1AA6) << 64) | 0xDA5B09E3D1523BA2,
    ((0xDE0CED14440BB37A) << 64) | 0x190A002679275B71,
    ((0xB766920F57169266) << 64) | 0x8EB4396B908A3E33,
    ((0x16E6B9DDE6A64FB5) << 64) | 0xCE1EB4C6BD781809,
    ((0x62611EC0E0906A7D) << 64) | 0x6121B9E5CD58897C,
    ((0xB357E9A8C054DA92) << 64) | 0x857BF4A65C0AE80B,
    ((0xB5B40EED91D5DFC1) << 64) | 0xC627D014970B487A,
    ((0x246B12A8DE3F4DA3) << 64) | 0x4973F7DD150FA73B,
    ((0x43AC1A838BC557F7) << 64) | 0xD4572CD267AC1201,
    ((0x5216EC59216F6964) << 64) | 0xC10B71CFEA4633BD,
    ((0xDDCE982EB0F11291) << 64) | 0xAF1E016DFB14B835,
    ((0x7B638F876E5557CE) << 64) | 0xB4269A984AFEE5D9,
    ((0x91BA019FFFAE04A0) << 64) | 0x216638E0EE08B7C4,
    ((0x59426CF2BD74A9A3) << 64) | 0x1A133C61F5DC96DD,
    ((0x9479EB2B3AF2395C) << 64) | 0xF186BBD882ABB120,
    ((0x2763F32886F84D67) << 64) | 0xE48872722F24DCFF,
    ((0x23FAF711F6471404) << 64) | 0x566D811DAADF5FAF,
    ((0xB465F02D2D10DF50) << 64) | 0x19055EFC74B946E0,
    ((0xF82E89B42E3F199B) << 64) | 0x6F329F930494F68F,
    ((0xC9C9E079864D852A) << 64) | 0xFB3C179B9D021746,
    ((0x6882CDDC89A2DF1B) << 64) | 0xB8D291A33597C80A,
    ((0x93AA650C393AED8A) << 64) | 0x9575A1E6110F671D,
    ((0x90BA7845400A2908) << 64) | 0x862FA196149694B1,
    ((0xF9826CAAB630044E) << 64) | 0xCC22E7519CB97666,
    ((0x15F4F7993C4524BA) << 64) | 0x3CD5024D052533D7,
    ((0xD5D584BD85E54F5B) << 64) | 0x3615B6305787406F,
    ((0xBF25E105E5AF6EB8) << 64) | 0xFDE78FD25BED162B,
    ((0xF34EFEF69632DC55) << 64) | 0x6CB6A01F5B4FEE4A,
    ((0x0612C30EDD0337DA) << 64) | 0xE3BFAD72943F6D29,
    ((0x09C6F9A086AEF2D6) << 64) | 0x7508335674877B76,
    ((0x243CB0099E2A092A) << 64) | 0x03678D07FAD33F54,
    ((0x66F45778255A5EB8) << 64) | 0x356AB8D378BF2CCA,
    ((0x7F2E22A924A9449B) << 64) | 0xEF5EDE862B787EA0,
    ((0x8802F92966C74B72) << 64) | 0x67B214BC9225EB92,
    ((0x8EE0EE9A6773B745) << 64) | 0x45936D99261BA0E7,
    ((0x8488D30BEC6929AD) << 64) | 0x47566348386D7063,
    ((0x07E17505D250512F) << 64) | 0x0DE618677C25B2C5,
    ((0xB8E28103396E0392) << 64) | 0x2286D5C709FEBCAB,
    ((0x07F374D0D423A055) << 64) | 0x6A8A0D2F821028A8,
    ((0x221BCC72700499D1) << 64) | 0x9F16ADD206F5C9DD,
    ((0x336A9DC7BE63EECD) << 64) | 0x23F05E34C4D86F17,
    ((0x11F010C019AFEF4F) << 64) | 0xAA2B2FC558CA6AB4,
    ((0xFA162619290ED3C9) << 64) | 0x12487414F6E6EBE1,
    ((0x0F054F53EF29F097) << 64) | 0x19F2F693EE48191C,
    ((0x7AFEB009CD3062ED) << 64) | 0x39D98B11384C6F05,
    ((0x5D49209AC70A45D9) << 64) | 0x172FABD049814402,
    ((0x784D85726ACFB596) << 64) | 0xCD5F2EBE72CAD367,
    ((0x2D359556EFDA8BEC) << 64) | 0x90AED8D381E74BE9,
    ((0x72306A0F4EF4DAA2) << 64) | 0x30E670376E3F433D,
    ((0x9C51DF0044E6F3B0) << 64) | 0x9A903C17E9B23331,
    ((0xA31862F8F79CFF31) << 64) | 0x6292DFF71F8034F6,
    ((0x320807FDC6BD215A) << 64) | 0x2E8E414E87ADB36A,
    ((0x5DB4BB8C053D7254) << 64) | 0x68ACEA2B82526AA2,
    ((0xD441DF0CC89AFE5C) << 64) | 0xE16D128C1B28F9F9,
    ((0xEF6103CBBF0B4191) << 64) | 0xB035D19BB9D0C99D,
    ((0x2E2908691DBC667C) << 64) | 0xFA9DBC85F0092BB6,
    ((0xDEE671BE0E109EBE) << 64) | 0xD92A309D565B35ED,
    ((0x990A8377D94F2AAE) << 64) | 0xB69C8F499B203E3B,
    ((0xAB36541BEE991A29) << 64) | 0x04CBEFA87A6743A6,
    ((0xDF2581C4EA8BF83E) << 64) | 0x070D1CCDF4AF1E57,
    ((0x08D24C07FBB9B1EA) << 64) | 0xCAEE35EA5FE4B94C,
    ((0xF3B68F28ACBC0D1C) << 64) | 0x89FC8EDC2B300EDF,
    ((0x686856DEBEB7A276) << 64) | 0x3040F6170DAE0FD3,
    ((0x82732502403336D6) << 64) | 0x3395495A76A85603,
    ((0x1B79E2320A738234) << 64) | 0xC31DA49E279F5DCC,
    ((0x46D69BD530D6941C) << 64) | 0x7238BEF2A209DBA4,
    ((0x0ED92892D60F6803) << 64) | 0x421FCA3A32A77849,
    ((0x2B71F8B2CA537735) << 64) | 0x41A98AB8A1DAFEC0,
    ((0xB2B45E3C85D72163) << 64) | 0x31AF5B3FE8C5E771,
    ((0x4FF06816AF087BA0) << 64) | 0x1E3D07C189A654DB,
    ((0xC958D048BC5B11F3) << 64) | 0x6639D3D8FCA00818,
    ((0xF4529CBA99821757) << 64) | 0x05E87A30CE0998A6,
    ((0xDE801EFF80F23BA4) << 64) | 0x6D35F3356C180768,
    ((0x076112BEC3C00AF2) << 64) | 0x96CB5026C40C88D3,
    ((0x9592DEE06CD7553B) << 64) | 0x328DCE361C2F4630,
    ((0x539F2712E2D62A30) << 64) | 0x730E2A43DC552EC5,
    ((0xDF447AB01125F66F) << 64) | 0xE85B920444167B94,
    ((0x8531C8BA23D87BB9) << 64) | 0xE67009D7371488C6,
    ((0xC23426930F6A5B8A) << 64) | 0x98371D66CC8FC3C3,
    ((0xA4765D2102DFD380) << 64) | 0x08FB895F27BC855B,
    ((0xE5E2AEECF81B4922) << 64) | 0x41515FEAC7CD8609,
    ((0xF5D8409901EB71EE) << 64) | 0xF3ACA2FDAFDCF61A,
    ((0x18C664A785EFC4FD) << 64) | 0x57EB47FBAE4696D1,
    ((0xA174ABAB649CABB2) << 64) | 0xC4FE0195F6A0A155,
    ((0xA78F1FEB17C947DE) << 64) | 0x9CD9370CC7D639F2,
    ((0x6D4A6277CB897CA3) << 64) | 0x610C680DF2CEF7E4,
    ((0x10998DA8C549A6E5) << 64) | 0x209681A4F6FE1AAD,
    ((0x13C09E8AE88560EB) << 64) | 0x8DC9DBEEDFC899B8,
    ((0x48B88678FA169E7E) << 64) | 0x838625ED79114B98,
    ((0x170232173F5E07B2) << 64) | 0x7423E31224B30207,
    ((0xE5DEC319FC09525C) << 64) | 0x1D67D807B6D0E323,
    ((0x329276065B21A791) << 64) | 0x169DD0907F28C921,
    ((0x3B0D4CA3450383E0) << 64) | 0xDFA8AF2DFAB63AF7,
    ((0x530200CAD093F333) << 64) | 0x054B3B3B82B8C1DE,
    ((0xBC0A06E8B87FCF2E) << 64) | 0x3BB49F1F01E548C0,
    ((0x466FBE29239EAED3) << 64) | 0x965D807879E87028,
    ((0x823B01EB27329BEE) << 64) | 0x221376821BA9F328,
    ((0x78ECE23D3B7FB9A6) << 64) | 0x95BF5E4DAAEB6E65,
    ((0x1D2DFA3A1DD26B57) << 64) | 0x8F7E25902A501D53,
    ((0x0994E0A1BFEBA697) << 64) | 0x0EC5823AB58A4C05,
    ((0x9D899014C04D6BBB) << 64) | 0x2B3A24D0CFE4158F,
    ((0x22D2316059D89D33) << 64) | 0x3AB19FBC98061A24,
    ((0x9C4D2BB4B464E426) << 64) | 0x28FBE6D615CEE87B,
    ((0x2D24507E57199A07) << 64) | 0x9DE8903C63EA7EB4,
    ((0xEF11D580AB3423B5) << 64) | 0xC8D6BF496E24FFA5,
    ((0x583677216C0BAE50) << 64) | 0xB9644B2FEABD4CC7,
    ((0x8F0D94448C0B08DA) << 64) | 0xB8B00F356DE86EB6,
    ((0x62712EF70E64E21F) << 64) | 0xCF8B4AC76AB153AB,
    ((0x22245DAB6BDAD4A9) << 64) | 0x36FDF2B34E6063A4,
    ((0xA16249FC803172A8) << 64) | 0xA32A214B86FB9636,
    ((0xE6D0FE36383196E0) << 64) | 0x0AC7536F553A1519,
    ((0xF5A6C73D550158F8) << 64) | 0x7B2C16A9C70EA1CB,
    ((0x5A174ABA069441BA) << 64) | 0x456A56053C202BDE,
    ((0x33F181F17CD56ACE) << 64) | 0xD7FF72DFBC1FAE98,
    ((0xA510FE339FAC5D28) << 64) | 0x43B08486340D609A,
    ((0xCB33578AC4BE387D) << 64) | 0x3EB16DD531A2195C,
    ((0xE691B1BD6FCB9CE7) << 64) | 0xA9470B666A72FC1F,
    ((0x6423E3CC729D9424) << 64) | 0x1EB764486EC4922B,
    ((0x2C89B938250DEDE1) << 64) | 0xBB3921068CDE6DEE,
    ((0x4CD5A1C6B7DEDE77) << 64) | 0x788A2141D47F86A6,
    ((0x0018A80DAD0B501B) << 64) | 0x497E88F442B9B27D,
    ((0x0A0F0CA34572C9A0) << 64) | 0x43F674021BB23A01,
    ((0x793106BCCB2C4175) << 64) | 0x12A3509C96DEA679,
    ((0x2A4DAD9BF7715548) << 64) | 0xC512D35702D757DA,
    ((0x9C0A57BE9D65D947) << 64) | 0xC79CE74DE6478E4F,
    ((0x7834D37947418DA0) << 64) | 0x05693EA31C882E06,
    ((0x52028EBF22833573) << 64) | 0x8852768B66888B1E,
    ((0xCC29FEAC0DED1B40) << 64) | 0x64A3A9D8100D6D3A,
    ((0x506296ABD22A2B00) << 64) | 0x142C328C4E04C4B7,
    ((0x1BA38244B69E8F8E) << 64) | 0xA607508444DCB0DA,
    ((0x9B97878052591CC6) << 64) | 0xB0A38749C0A77573,
    ((0x882676B9968FE076) << 64) | 0xAC734C4D5405616A,
    ((0x5A0F472BC54CF625) << 64) | 0x12A1FC3AEC04D434,
    ((0x6685BA42C6ECEC97) << 64) | 0xD36CB745F269AE51,
    ((0x8EFF36605141C5D0) << 64) | 0x3B34EDD7E3E6D0A7,
    ((0x8F199F706188D226) << 64) | 0x8996550D71072D82,
    ((0xA1211626125BCA97) << 64) | 0x51D38C61906BCA6F,
    ((0x59D1A24AAAC15FBB) << 64) | 0x26071A3019E46B4D,
    ((0x40C346F5B7A7E5A3) << 64) | 0x547F9B5C46C3281B,
    ((0x810B7445A7DC5442) << 64) | 0x9DB50EF8536FCAAF,
    ((0xA05DE37681A871F3) << 64) | 0x5B16F3D691CC5B06,
    ((0x84FF30CF2E6927BE) << 64) | 0x744AC1F2825DE458,
    ((0xEFF820468AAA9560) << 64) | 0xDA11F64E3EB55BD9,
    ((0xF439D4D9CED2E8C5) << 64) | 0x516BA44E7A1A3421,
    ((0xA6D355E1FA28A3C4) << 64) | 0xF390CD74221D7FB5,
    ((0x9ACA4A8667210625) << 64) | 0x71EB37744A7536D7,
    ((0x0E84DE4A32D17CC2) << 64) | 0x8B6DE54F35E044F0,
    ((0xDF08DD3504375A25) << 64) | 0xCD2F7162AFE75318,
    ((0x3D92954159BF2E61) << 64) | 0xF53F0746B2DE5A5D,
    ((0x2F4EE1D079627233) << 64) | 0x2F9175B667733249,
    ((0x6563923B42780F67) << 64) | 0xB92A4099C102C202,
    ((0xE12478EC8F9E6286) << 64) | 0xFE5180C58CEAA461,
    ((0x9E88A68344DC0E86) << 64) | 0xC7509A41FE74C06F,
    ((0xE23D23C85F762B9F) << 64) | 0x75E07E65053BBB9F,
    ((0x3211CC3D9A3D33B6) << 64) | 0x72595A3D7ECAB2A3,
    ((0x8E43EDC5918E9EC5) << 64) | 0x7C95B57454E0CE99,
    ((0xC7E3F912DDB9D00E) << 64) | 0x28D17C44E8E08C00,
    ((0x53D501980E4F0927) << 64) | 0x21EC9EEFEF360FE1,
    ((0x7D279C2AA729EF3C) << 64) | 0x8593A1306798B415,
    ((0x5F24241283956B70) << 64) | 0xDBA2C1D95EDB1DF7,
    ((0x788BE5CAB9873733) << 64) | 0xC4CA76D612712A4C,
    ((0x4B9EBE53DA1F473D) << 64) | 0x174D7828B7EF367B,
    ((0xE5CB8182C543F4F5) << 64) | 0x6071E8DD70EACCC2,
    ((0xA01D1C75C659B201) << 64) | 0xC2187A011E0E4153,
    ((0xC8C80F983032F21A) << 64) | 0x1E48C85E8F4387D6,
    ((0x5CFA0A878AA03EE4) << 64) | 0x51A8076A35C913F8,
    ((0xE92BCD67C4A5A72A) << 64) | 0xD462F1AAED570F01,
    ((0x85FE339D669C634A) << 64) | 0xFACAE1FA69585400,
    ((0x9503E98ACFDF871B) << 64) | 0x4B0C321E1BA4CFDE,
    ((0x720DE01011C398D7) << 64) | 0x147B3BFE27571FF1,
    ((0x90E26FBA807DB201) << 64) | 0xC514274E9FB06F50,
    ((0x34CE33C25BB0D5AA) << 64) | 0x88E67AD6F27D0C14,
    ((0xBC4515F5EC157874) << 64) | 0x1532DD9490DEAD8D,
    ((0x7E5150129E9C0C24) << 64) | 0x2D7EE340DC656279,
    ((0x8896757FE4F9D5E5) << 64) | 0xE20F3C0A9C4CE650,
    ((0xCEC2CE37490D699C) << 64) | 0xD2B8DB595C378C26,
    ((0x7AE3584469866B25) << 64) | 0x80E9D1C3CD2C1623,
    ((0xDEFBF3D05BBB32DF) << 64) | 0x2980A49239178F3A,
    ((0xE192430E58980EF3) << 64) | 0x37225C787EC34B48,
    ((0x26AF3742748FC97F) << 64) | 0x65460E8ED381EBF1,
    ((0x15FAACAEB1B6CB17) << 64) | 0xC231850D22763032,
    ((0xBC42B25CD0F0EC64) << 64) | 0x15C544FE58068578,
    ((0x50B17E9CEEA520BB) << 64) | 0x1A6A65C309C53854,
    ((0xF45E2CF4EA0CE8EE) << 64) | 0xF793FDD2AA78BA51,
    ((0x591D92D330775537) << 64) | 0x4A077B3E23F13782,
    ((0x57054CDCE017931E) << 64) | 0xD747EBECDD38C78A,
    ((0xEF59FEBE1F414B36) << 64) | 0x2039957776FC029C,
    ((0x3A73880130DE9B70) << 64) | 0xFF1565E27D097BEE,
    ((0x927848E6ABE4ED31) << 64) | 0xDD7ACD5A3E786E27,
    ((0xC0D60E0EAAAC7ED7) << 64) | 0x5740BE4E3061736B,
    ((0x7EC654D3428F9D51) << 64) | 0x3FDB01D6C98DC78A,
    ((0x3E0E99A66D048A83) << 64) | 0x5D8797337EB515F0,
    ((0xAC947A73E543F791) << 64) | 0x8F4342C0BEA210CF,
    ((0xA4709C777B31CEB6) << 64) | 0x254E91F682F45AD2,
    ((0x8F83E67BC926A0A8) << 64) | 0xD3FA2B5226EB508D,
    ((0x4C9E1F4AE5D46583) << 64) | 0x8E2E08609903C8C8,
    ((0x9EDD92482F037209) << 64) | 0x5248FCCD976D172A,
    ((0xCB055C6BAF90C7DB) << 64) | 0x0F533A96DB45F5EC,
    ((0x42E874092C4B33AC) << 64) | 0xDF2417A82507CC62,
    ((0x35FE879AEE14A2F4) << 64) | 0x851906627DA66B5D,
    ((0x9A8DE2203D064904) << 64) | 0x887299FD71F6171A,
    ((0x0A871441294F9DE2) << 64) | 0xB8FE78F575F11F21,
    ((0x352240412649051F) << 64) | 0xD06A406C7CEEE281,
    ((0x9816DE3D9968107C) << 64) | 0xE44FC0A1C2BCB547,
    ((0xE8983D22AC68FA6C) << 64) | 0xFAB5B1835E876A0F,
    ((0x00FE77A1FE8D5C8C) << 64) | 0x1DC39B339186CAB8,
    ((0x13D43FB7D6022255) << 64) | 0xB57EC0961EA3BBDA,
    ((0x0814ADC51638F692) << 64) | 0x7C0395C3D941B1FC,
    ((0x8A86CE0AE763E204) << 64) | 0x0DD34A11D33FF39E,
    ((0x545451397E976E8A) << 64) | 0xC4F8817B338127DE,
    ((0x8864BC9BB2445A56) << 64) | 0xD13D8BE445B5E93B,
    ((0x28117D589D6D3ED3) << 64) | 0x133890F78E7FACA5,
    ((0x848152E8A0F1E4AA) << 64) | 0x0A7F6F6DCCED8FC1,
    ((0x4F5D31EDDF4415A8) << 64) | 0x7CB96B70DD59FC98,
    ((0x7B427F9D06A11E2E) << 64) | 0x026ADB29C5D0A164,
    ((0xBD267F12261BA5EA) << 64) | 0xED7EECAED9C1AC6A,
    ((0xFF22E298E414D44E) << 64) | 0xE3FD20A107418109,
    ((0xE286097DF6D1CEFE) << 64) | 0xDE12C44608761B68,
    ((0x511B7C63DA1E5818) << 64) | 0xC41D07D97A91EAD5,
    ((0x219E192BC30F6F7C) << 64) | 0x0831B50DDDCE28AD,
    ((0xA4363D187CA0E02C) << 64) | 0xC0F85BFD1735646F,
    ((0x17A54C5AB1094CD8) << 64) | 0x47745ED620798BEC,
    ((0x297F78D0669DD88C) << 64) | 0x450DC3CF4BA734BE,
    ((0xB708DD340375C20E) << 64) | 0xA9AB83B0EFE006A3,
]

RATING_ARRAY = [
    ((0xcb0b513caf337f02) << 64) | 0x269d7114a6e96349,
    ((0xca25b6fab0ee253a) << 64) | 0x269f67df63b36d9d,
    ((0x6aeb8a343b2d70dc) << 64) | 0xb475b1abf7a09b4c,
    ((0x23e09bea783edf24) << 64) | 0x59314e5bc13da56f,
    ((0x393ff6b86f1e68fe) << 64) | 0x1ebbcb8cf65f571f,
    ((0x23fde51cffa9a762) << 64) | 0x4ce04fd7cf70f4f9,
    ((0x38d03d986c9dcf45) << 64) | 0x847a4bbf42d62dd0,
    ((0x48ec98e1e3ad3cbc) << 64) | 0x89dfa57a0101c0e1,
    ((0xdaf0caa5bb558589) << 64) | 0xdffcba2ef0049f35,
    ((0xa18d07b4e6133689) << 64) | 0x70312ae157600b03
]

MAP_HASH_PIECE = [1, 3, 5, 7, 9, 11, 0, 2, 4, 6, 8, 10]


def generate_castling_key(index):
    RANDOM_OFFSET = 768
    RANDOM_COUNT = 4
    key = 0
    for i in range(RANDOM_COUNT):
        if index & (1 << i):
            key ^= RANDOM_ARRAY[RANDOM_OFFSET + i]
    return key


castling_key = [generate_castling_key(i) for i in range(16)]


def piece(piece, square_index):
    assert 0 <= piece < 12
    return RANDOM_ARRAY[64 * MAP_HASH_PIECE[piece] + square_index]


def enpassant(file_index):
    assert 0 <= file_index < 8
    return RANDOM_ARRAY[772 + file_index]


def castling(castling):
    assert 0 <= castling < 16
    return castling_key[castling]


def castling_index(idx):
    assert 0 <= idx < 4
    return RANDOM_ARRAY[768 + idx]


def side_to_move():
    return RANDOM_ARRAY[780]

# Unused, for reference
ELO_NOVICE = 1000
ELO_BEGINNER = 1400
ELO_INTERMEDIATE = 1800
ELO_STRONG = 2200
ELO_EXPERT = 2600

def hash_add_rating(position, rating):
    return position ^ RATING_ARRAY[rating]

# See: https://disservin.github.io/chess-library/pages/piece.html and https://python-chess.readthedocs.io/en/latest/core.html
def piece2num(piece):
    piece_type = piece.piece_type - 1
    if piece.color == chess.BLACK:
        return piece_type + 6
    return piece_type

def castling_hash_index(board: chess.Board) -> int:
    return (
        int(board.has_kingside_castling_rights(chess.WHITE)) +
        2 * int(board.has_queenside_castling_rights(chess.WHITE)) +
        4 * int(board.has_kingside_castling_rights(chess.BLACK)) +
        8 * int(board.has_queenside_castling_rights(chess.BLACK))
    )


def fen2hash(fen, rating):
    board = chess.Board(fen)
    hash = 0

    for square in chess.SQUARES:
        if not board.piece_type_at(square):
            continue
        board_piece = board.piece_at(square)
        piece_num = piece2num(board_piece)
        hash ^= piece(piece_num, square)


    ep_hash = 0
    if board.ep_square:
        ep_hash ^= enpassant(board.ep_square)

    stm_hash = 0
    if board.turn == chess.WHITE:
        stm_hash ^= side_to_move()

    castling_hash = castling(castling_hash_index(board))

    final_hash = hash ^ ep_hash ^ stm_hash ^ castling_hash

    return hash_add_rating(final_hash, rating)



